<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Course CRUD Dashboard</title>
<style>
body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #f0f4f8, #d9e4f5); margin:0; padding:0; }
header { background:#4CAF50; color:white; text-align:center; padding:25px 0; font-size:28px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
.container { max-width: 1100px; margin: 30px auto; background:white; padding:25px; border-radius:20px; box-shadow:0 6px 20px rgba(0,0,0,0.1); }
h2 { color:#333; margin-bottom:15px; border-bottom:2px solid #4CAF50; padding-bottom:5px; }
input { padding:12px; margin:8px 5px 15px 0; border-radius:10px; border:1px solid #ccc; width:calc(23% - 10px); transition:0.3s; }
input:focus { border-color:#4CAF50; box-shadow:0 0 10px rgba(76,175,80,0.3); outline:none; }
button { padding:12px 20px; margin-top:5px; border:none; border-radius:10px; color:white; font-weight:bold; cursor:pointer; transition:0.3s; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
button:hover { transform: translateY(-2px) scale(1.05); opacity:0.9; }
.create-btn { background: linear-gradient(135deg, #28a745, #66bb6a); }
.update-btn { background: linear-gradient(135deg, #2196F3, #64b5f6); }
.delete-btn { background: linear-gradient(135deg, #f44336, #e57373); }
.get-btn { background: linear-gradient(135deg, #ff9800, #ffb74d); }
.refresh-btn { background: linear-gradient(135deg, #9c27b0, #ba68c8); }
table { width:100%; border-collapse:collapse; margin-top:20px; border-radius:12px; overflow:hidden; box-shadow:0 4px 15px rgba(0,0,0,0.08); }
th, td { padding:14px; text-align:left; border-bottom:1px solid #ddd; transition:0.2s; }
th { background: linear-gradient(135deg, #4CAF50, #66bb6a); color:white; }
tr:hover { background:#f1f8ff; cursor:pointer; }
#selectedCard { background:#f9f9f9; padding:20px; border-radius:15px; margin-top:15px; box-shadow:0 4px 12px rgba(0,0,0,0.08); transition:0.3s; }
#selectedCard strong { color:#555; }
#loader { display:none; width:40px; height:40px; border:5px solid #ccc; border-top-color:#4CAF50; border-radius:50%; animation: spin 1s linear infinite; margin:auto; }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
</style>
</head>
<body>
<header>‚≠ê Course CRUD Dashboard</header>
<div class="container">
<h2>Create Course</h2>
<input type="text" id="createName" placeholder="Course Name">
<input type="text" id="createInstructor" placeholder="Instructor Name">
<input type="number" id="createCredit" placeholder="Credit Hours">
<button class="create-btn" onclick="createCourse()">Create Course</button>
<h2>Get Course by ID</h2>
<input type="number" id="getId" placeholder="Course ID">
<button class="get-btn" onclick="getCourseById()">Get Course</button>
<div id="selectedCard">No course selected.</div>
<h2>Update Course</h2>
<input type="number" id="updateId" placeholder="Course ID">
<input type="text" id="updateName" placeholder="New Name">
<input type="text" id="updateInstructor" placeholder="New Instructor">
<input type="number" id="updateCredit" placeholder="New Credit Hours">
<button class="update-btn" onclick="updateCourse()">Update Course</button>
<h2>Delete Course</h2>
<input type="number" id="deleteId" placeholder="Course ID">
<button class="delete-btn" onclick="deleteCourse()">Delete Course</button>
<h2>All Courses</h2>
<button class="refresh-btn" onclick="getAllCourses()">Get All Courses</button>
<div id="loader"></div>
<table>
<thead>
<tr><th>ID</th><th>Name</th><th>Instructor</th><th>Credit Hours</th></tr>
</thead>
<tbody id="courseTable"></tbody>
</table>
</div>
<script>
const baseUrl = 'http://localhost:8080';
function showLoader(){document.getElementById('loader').style.display='block';}
function hideLoader(){document.getElementById('loader').style.display='none';}
function createCourse(){
    const name=document.getElementById('createName').value;
    const instructor=document.getElementById('createInstructor').value;
    const credit=document.getElementById('createCredit').value;
    if(!name||!instructor||!credit)return alert('Fill all fields!');
    showLoader();
    fetch(`${baseUrl}/create`,{
        method:'POST', headers:{'Content-Type':'application/json'},
        body:JSON.stringify({name,name,instructorName:instructor,creditHours:parseInt(credit)})
    }).then(res=>res.text()).then(msg=>{ alert(msg); hideLoader(); getAllCourses(); document.getElementById('createName').value=''; document.getElementById('createInstructor').value=''; document.getElementById('createCredit').value=''; });
}
function getCourseById(){
    const id=document.getElementById('getId').value;
    if(!id)return alert('Enter ID!');
    showLoader();
    fetch(`${baseUrl}/getById/${id}`).then(res=>res.json()).then(course=>{
        hideLoader();
        if(course.id&&course.id>0){
            document.getElementById('selectedCard').innerHTML=`<strong>ID:</strong>${course.id}<br><strong>Name:</strong>${course.name}<br><strong>Instructor:</strong>${course.instructorName}<br><strong>Credit Hours:</strong>${course.creditHours}`;
        } else {
            document.getElementById('selectedCard').innerHTML='Course not found.';
        }
    });
}
function updateCourse(){
    const id=document.getElementById('updateId').value;
    if(!id)return alert('Enter ID!');
    const name=document.getElementById('updateName').value;
    const instructor=document.getElementById('updateInstructor').value;
    const credit=document.getElementById('updateCredit').value;
    showLoader();
    fetch(`${baseUrl}/update`,{
        method:'PUT', headers:{'Content-Type':'application/json'},
        body:JSON.stringify({id:parseInt(id),name:name,instructorName:instructor,creditHours:parseInt(credit)})
    }).then(res=>res.text()).then(msg=>{ alert(msg); hideLoader(); getAllCourses(); document.getElementById('updateId').value=''; document.getElementById('updateName').value=''; document.getElementById('updateInstructor').value=''; document.getElementById('updateCredit').value=''; });
}
function deleteCourse(){
    const id=document.getElementById('deleteId').value;
    if(!id)return alert('Enter ID!');
    if(!confirm('Delete this course?')) return;
    showLoader();
    fetch(`${baseUrl}/delete/${id}`,{method:'DELETE'}).then(res=>res.text()).then(msg=>{ alert(msg); hideLoader(); getAllCourses(); document.getElementById('deleteId').value=''; });
}
function getAllCourses(){
    showLoader();
    fetch(`${baseUrl}/getAll`).then(res=>res.json()).then(data=>{
        hideLoader();
        const table=document.getElementById('courseTable');
        table.innerHTML='';
        data.forEach(course=>{
            const row=document.createElement('tr');
            row.innerHTML=`<td>${course.id}</td><td>${course.name}</td><td>${course.instructorName}</td><td>${course.creditHours}</td>`;
            table.appendChild(row);
        });
    });
}
document.addEventListener('DOMContentLoaded',getAllCourses);
</script>
</body>
</html>
